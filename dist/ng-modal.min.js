(function(){var a;a=angular.module("ngModal",[]),a.provider("ngModalDefaults",function(){return{options:{closeButtonHtml:"<span class='ng-modal-close-x'>&times;</span>"},$get:function(){return this.options},set:function(a,b){var c,d,e;if("object"==typeof a){e=[];for(c in a)d=a[c],e.push(this.options[c]=d);return e}return this.options[a]=b}}}),a.factory("ngModalContents",function(){var a;return a={contents:{},get:function(){return this.contents},set:function(a,b){var c,d;if("object"==typeof a)for(c in a)d=a[c],this.contents[c]=d;else this.contents[a]=b;return this.contents},getContentTemplate:function(){var a,b;if(null!=this.contents.value&&!this.contents.source)throw new Error("no valid content");if(a="",null!=this.contents.type&&null!=this.contents.source){switch(this.contents.type){case"audio":b=encodeURI(this.contents.source),a+='<iframe width="640" height="450" scrolling="no" frameborder="no"',a+='src="https://w.soundcloud.com/player/?url='+b+"&amp;",a+="auto_play=false&amp;hide_related=false&amp;show_comments=true&amp;",a+='show_user=true&amp;show_reposts=false&amp;visual=true"></iframe>';break;case"photo":a+='<image src="https://'+this.contents.source+'" alt='+this.contents.title+" />";break;case"video":a+='<iframe src="https://'+this.contents.source+'" width="640" ',a+='height="450" frameborder="0" webkitallowfullscreen ',a+="mozallowfullscreen allowfullscreen></iframe>"}return a}return null!=this.contents.content&&(a+="<div>"+this.contents.content+"</div>"),a}}}),a.directive("modalContent",["ngModalContents","$sce",function(a,b){return{restrict:"A",scope:{type:"@",source:"@",id:"="},link:function(c,d,e){return c.$watch(function(){return""===e.type||""===e.source?d.html(""):(a.set({type:e.type,source:e.source}),null!=a&&null!=a.get()?("video"===e.type&&d.addClass("fluid-container video"),d.html(b.trustAsHtml(a.getContentTemplate()))):d.html(""))})}}}]),a.directive("modalDialog",["ngModalDefaults","$sce",function(a,b){return{restrict:"E",scope:{show:"=",dialogTitle:"@",onClose:"&?",id:"="},replace:!0,transclude:!0,link:function(c,d,e){var f,g;return f=function(){return c.closeButtonHtml=b.trustAsHtml(a.closeButtonHtml)},g=function(){return c.dialogStyle={},e.width&&(c.dialogStyle.width=e.width),e.height?c.dialogStyle.height=e.height:void 0},c.hideModal=function(){return c.show=!1},c.$watch("show",function(a,b){return document.getElementsByTagName("body")[0].style.overflow=a&&!b?"hidden":"",!a&&b&&null!=c.onClose?c.onClose():void 0}),f(),g()},template:"<div class='ng-modal' ng-show='show'>\n  <div class='ng-modal-overlay' ng-click='hideModal()'></div>\n  <div class='ng-modal-dialog' ng-style='dialogStyle'>\n    <span class='ng-modal-title' ng-show='dialogTitle && dialogTitle.length' ng-bind='dialogTitle'></span>\n    <div class='ng-modal-close' ng-click='hideModal()'>\n      <div ng-bind-html='closeButtonHtml'></div>\n    </div>\n    <div class='ng-modal-dialog-content' ng-transclude></div>\n  </div>\n</div>"}}])}).call(this);